{%extends 'layout/base.html' %} {% block title %} 100 años de soledad {% endblock %} {%block main%}
<div class="max-w-7xl mx-auto px-4 py-8 flex flex-col gap-8">
  <div class="flex flex-wrap justify-center gap-8">
    <!-- EVENTOS -->
    <div>
      <input type="checkbox" id="eventos" class="peer hidden tag" value="events" />
      <label
        for="eventos"
        class="filters h-13 bg-gray-800 p-2 rounded-md cursor-pointer flex items-center gap-2 text-white shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-red-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <span class="select-none">Eventos</span>
      </label>
    </div>

    <!-- PERSONAJES -->
    <div>
      <input type="checkbox" id="personajes" class="peer hidden tag" value="characters" />
      <label
        for="personajes"
        class="filters h-13 bg-gray-800 p-2 rounded-md cursor-pointer flex items-center gap-2 text-white shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-blue-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <span class="select-none">Personajes</span>
      </label>
    </div>

    <!-- LOCALIZACIONES -->
    <div>
      <input type="checkbox" id="localizaciones" class="peer hidden tag" value="locations" />
      <label
        for="localizaciones"
        class="filters h-13 bg-gray-800 p-2 rounded-md cursor-pointer flex items-center gap-2 text-white shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-green-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <span class="select-none">Localizaciones</span>
      </label>
    </div>

    <!-- OBJETOS -->
    <div>
      <input type="checkbox" id="objetos" class="peer hidden tag" value="objects" />
      <label
        for="objetos"
        class="filters h-13 bg-gray-800 p-2 rounded-md cursor-pointer flex items-center gap-2 text-white shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-yellow-500 transition-all duration-300 transform hover:scale-105"
      >
        <span class="select-none">Objetos</span>
      </label>
    </div>
  </div>

  <form class="max-w-md w-full mx-auto">
    <label for="to_search" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Search</label>
    <div class="relative">
      <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
        <i class="fa-solid fa-magnifying-glass text-white"></i>
      </div>
      <input
        id="to_search"
        name="to_search"
        type="text"
        class="block w-full p-4 ps-10 text-md text-white font-semibold border border-gray-600 rounded-lg bg-gray-700 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 hover:shadow-2xl"
        placeholder="Aureliano Buendia"
        required
      />
      <button id="search_btn" class="text-white absolute end-2.5 bottom-2.5 bg-blue-600 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2">
        Search
      </button>
    </div>
  </form>
  <div class="flex justify-end mb-4">
    <button id="openModal" class="size-1/9 end-2.5 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-full text-xl">
      <i class="fa-solid fa-plus"></i>
    </button>
  </div>
  <!-- Modal  -->
  <div id="customModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-white bg-opacity-80">
    <div class="relative w-full max-w-2xl p-4 bg-gray-900 text-white rounded-2xl shadow-xl mx-4 md:mx-auto">
      <button type="button" class="absolute top-2 right-3 text-white text-2xl font-bold" onclick="document.getElementById('customModal').classList.add('hidden')">&times;</button>
      <!-- Header del modal -->
      <div class="mb-4">
        <h2 class="text-2xl font-bold text-center">Agregar Información</h2>
        <p class="text-sm text-center text-gray-300">Selecciona el tipo de entidad para agregar</p>
      </div>

      <div class="flex flex-wrap justify-center gap-2 mb-6">
        <button class="bg-red-500 hover:bg-red-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formEvent')">Evento</button>
        <button class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formCharacter')">Personaje</button>
        <button class="bg-green-500 hover:bg-green-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formObject')">Objeto</button>
        <button class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formLocation')">Localización</button>
      </div>

      <!-- Formularios -->
      <form id="formEvent" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre del evento" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulo" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Importancia" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Tipo (histórico, personal, etc)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Fecha narrativa" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Personajes involucrados (IDs separados por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Localizaciones (IDs separados por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo (separado por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Consecuencias (separado por coma)" />
      </form>

      <form id="formCharacter" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre completo" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Generación" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción física"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Personalidad (lista separada por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulos de aparición" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Eventos principales (IDs)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Transformación"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Muerte (capítulo y circunstancias)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo" />
      </form>

      <form id="formObject" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre del objeto" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Tipo (mágico, simbólico, cotidiano)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulos de aparición" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Propietarios (IDs)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Ubicación física" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Transformaciones (capítulo y estado)"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Importancia narrativa" />
      </form>

      <form id="formLocation" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre de la localización" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Tipo (natural, mítica, construcción)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulos de aparición" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Eventos importantes (IDs)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Transformaciones (capítulo y estado)"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Personajes asociados (IDs)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo" />
      </form>

      <div class="mt-4 flex justify-end">
        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded">Guardar</button>
      </div>
    </div>
  </div>

  <div id="results_container" class="grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    
  </div>
  
  <div class="flex flex-col items-center justify-center hidden" id="not_found">
    <p class="text-center">No se encontraron resultados :c</p>
    <ol>
      <li>Prueba con palabras clave más generales</li>
      <li>Prueba con menos palabras clave</li>
    </ol>
  </div>

</div>

<script src="{{ url_for('static', filename='javascript/index.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/insertService.js') }}"></script>
{%endblock%}
