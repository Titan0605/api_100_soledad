{%extends 'layout/base.html' %} {% block title %} 100 años de soledad {% endblock %} {%block main%}
<div class="max-w-7xl mx-auto px-4 py-8 flex flex-col gap-8">
  <div class="flex flex-wrap justify-center gap-3">
    <!-- EVENTOS -->
    <div>
      <input type="checkbox" id="eventos" class="peer hidden tag" value="events" />
      <label
        for="eventos"
        class="filters animate-item delay-1 animate-fade-in-down h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-red-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-red-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
        </svg>
        <span class="select-none">Eventos</span>
      </label>
    </div>

    <!-- CAPITULOS -->
    <div>
      <input type="checkbox" id="capitulos" class="peer hidden tag" value="chapters" />
      <label
        for="capitulos"
        class="filters animate-item delay-2 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-purple-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-purple-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
        </svg>
        <span class="select-none">Capitulos</span>
      </label>
    </div>

    <!-- RELACIONES -->
    <div>
      <input type="checkbox" id="relaciones" class="peer hidden tag" value="relationships" />
      <label
        for="relaciones"
        class="filters animate-item delay-3 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-pink-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-pink-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
        </svg>
        <span class="select-none">Relaciones</span>
      </label>
    </div>

    <!-- PERSONAJES -->
    <div>
      <input type="checkbox" id="personajes" class="peer hidden tag" value="characters" />
      <label
        for="personajes"
        class="filters animate-item delay-4 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-blue-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-blue-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        </svg>
        <span class="select-none">Personajes</span>
      </label>
    </div>

    <!-- SUEÑOS Y VICIONES -->
    <div>
      <input type="checkbox" id="sueños_visiones" class="peer hidden tag" value="dreams_visions" />
      <label
        for="sueños_visiones"
        class="filters animate-item delay-5 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-cyan-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-cyan-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        </svg>
        <span class="select-none">Sueños y Visiones</span>
      </label>
    </div>

    <!-- LOCALIZACIONES -->
    <div>
      <input type="checkbox" id="localizaciones" class="peer hidden tag" value="locations" />
      <label
        for="localizaciones"
        class="filters animate-item delay-6 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-green-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-green-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
        </svg>
        <span class="select-none">Localizaciones</span>
      </label>
    </div>

    <!-- OBJETOS -->
    <div>
      <input type="checkbox" id="objetos" class="peer hidden tag" value="objects" />
      <label
        for="objetos"
        class="filters animate-item delay-7 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-yellow-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-yellow-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
        </svg>

        <span class="select-none">Objetos</span>
      </label>
    </div>

    <!-- SIMBOLOS -->
    <div>
      <input type="checkbox" id="simbolos" class="peer hidden tag" value="symbols" />
      <label
        for="simbolos"
        class="filters animate-item delay-8 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-orange-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-orange-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
        </svg>
        <span class="select-none">Simbolos</span>
      </label>
    </div>
  </div>

  <!-- Barra de búsqueda -->

  <form class="max-w-2xl w-full mx-auto" onsubmit="return validarInput()">
    <div class="relative">
      <input
        id="to_search"
        name="to_search"
        type="text"
        maxlength="70"
        class="block w-full p-3 pe-18 ps-5 text-md font-semibold border-3 border-gray-600 rounded-full text-white bg-withe focus:outline-none focus:ring-2 focus:ring-blue-700 placeholder-gray-400 hover:shadow-2xl transition-shadow duration-300"
        placeholder="Aureliano Buendia"
        oninput="filtrarCaracteres(this)"
        required />
      <button
        id="search_btn"
        class="absolute top-0 end-0 px-5 h-full text-white bg-blue-700 rounded-r-full border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
        </svg>
      </button>
    </div>
  </form>

  <!-- Botón para agegar uno-->

  <div class="flex justify-end mb-4">
    <button
      id="openModal"
      class="z-100 fixed bottom-8 right-8 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white text-3xl rounded-full w-16 h-16 shadow-2xl flex items-center justify-center transition-all duration-300 btn-hover border-2 border-emerald-400/20 z-40">
      <i class="fa-solid fa-plus"></i>
    </button>
  </div>

  <!-- Modal -->
  <div id="customModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in">
    <div class="relative w-full max-w-4xl p-6 glass-effect rounded-3xl shadow-2xl mx-4 md:mx-auto max-h-[90vh] overflow-y-auto animate-slide-up border border-slate-600/30">
      <button
        type="button"
        class="absolute top-4 right-4 text-slate-300 hover:text-white text-2xl font-bold w-10 h-10 rounded-full bg-slate-700/50 hover:bg-slate-600/50 flex items-center justify-center transition-all duration-300 btn-hover"
        onclick="document.getElementById('customModal').classList.add('hidden')">
        <i class="fa-solid fa-times"></i>
      </button>

      <!-- Header del modal -->
      <div class="mb-8 pt-2">
        <h2 class="text-3xl font-bold text-center bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">Agregar Información</h2>
        <p class="text-center text-slate-300 mt-2 text-lg">Selecciona el tipo de entidad para agregar</p>
      </div>

      <!-- Botones de navegación -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8">
        <button
          class="nav-button bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-red-400/20"
          onclick="mostrarFormulario('formEvent')">
          <i class="fa-solid fa-star mr-2"></i>Evento
        </button>
        <button
          class="nav-button bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-purple-400/20"
          onclick="mostrarFormulario('formChapter')">
          <i class="fa-solid fa-book mr-2"></i>Capítulo
        </button>
        <button
          class="nav-button bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-indigo-400/20"
          onclick="mostrarFormulario('formRelation')">
          <i class="fa-solid fa-heart mr-2"></i>Relación
        </button>
        <button
          class="nav-button bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-blue-400/20"
          onclick="mostrarFormulario('formCharacter')">
          <i class="fa-solid fa-user mr-2"></i>Personaje
        </button>
        <button
          class="nav-button bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-pink-400/20"
          onclick="mostrarFormulario('formDream')">
          <i class="fa-solid fa-eye mr-2"></i>Sueño/Visión
        </button>
        <button
          class="nav-button bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-yellow-400/20"
          onclick="mostrarFormulario('formLocation')">
          <i class="fa-solid fa-map-marker-alt mr-2"></i>Localización
        </button>
        <button
          class="nav-button bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-green-400/20"
          onclick="mostrarFormulario('formObject')">
          <i class="fa-solid fa-cube mr-2"></i>Objeto
        </button>
        <button
          class="nav-button bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold py-3 px-4 rounded-xl shadow-lg btn-hover border border-orange-400/20"
          onclick="mostrarFormulario('formSymbol')">
          <i class="fa-solid fa-moon mr-2"></i>Símbolo/Tema
        </button>
      </div>

      <!-- Formulario de Evento -->
      <form id="formEvent" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl overflow-auto scrollbar-hide">
          <h3 class="text-2xl font-bold mb-6 text-red-400 flex items-center"><i class="fa-solid fa-star mr-3"></i>Agregar Evento</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre del evento</label>
              <input
                id="eventName"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: La muerte de José Arcadio" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo</label>
              <input
                id="eventChapter"
                min="13"
                max="16"
                maxlength="2"
                type="number"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Capítulo 5" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="eventDescription"
              rows="4"
              oninput="filtrarCaracteres2(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe detalladamente el evento..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Importancia (1-10)</label>
              <input
                id="eventImportance"
                type="number"
                min="1"
                max="10"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="8" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de evento</label>
              <select
                id="eventType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 input-focus font-medium">
                <option value="">Seleccionar tipo</option>
                <option value="historico">Histórico</option>
                <option value="personal">Personal</option>
                <option value="sobrenatural">Sobrenatural</option>
                <option value="social">Social</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Fecha narrativa</label>
            <input
              id="eventDate"
              type="number"
              min="1900"
              max="2000"
              class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="Ej: aproximadamente 1915" />
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personajes involucrados</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Localizaciones</label>
              <div class="relative">
                <button
                  type="button"
                  class="locationDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-yellow-400 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleLocationDropdown()">
                  <span>Seleccionar localizaciones</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="locationDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="locationOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedLocations flex flex-wrap gap-2 mt-2"></div>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Objetos relacionados</label>
              <div class="relative">
                <button
                  type="button"
                  class="objectDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-green-400 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleObjectDropdown()">
                  <span>Seleccionar objetos</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="objectDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="objectOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedObjects flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="eventSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Elementos simbólicos separados por comas" />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Consecuencias</label>
              <input
                id="eventConsequences"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Consecuencias separadas por comas" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="eventKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Palabras clave separadas por comas" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Texto completo</label>
            <textarea
              id="eventFullText"
              rows="4"
              oninput="filtrarCaracteres2(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Descripción extensa del evento para búsquedas de texto completo..."></textarea>
          </div>
        </div>
      </form>

      <!-- Formulario de Personaje -->
      <form id="formCharacter" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-blue-400 flex items-center"><i class="fa-solid fa-user mr-3"></i>Agregar Personaje</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre</label>
              <input
                id="characterFirstName"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: José Arcadio" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Apellido</label>
              <input
                id="characterLastName"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Buendía" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción física</label>
            <textarea
              id="characterPhysicalDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe el aspecto físico del personaje..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Generación</label>
              <input
                id="characterGeneration"
                type="number"
                min="1"
                max="7"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personalidad</label>
              <input
                id="characterPersonality"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Rasgos separados por comas" />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="characterChapters"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Números separados por comas" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos principales</label>
              <div class="relative">
                <button
                  type="button"
                  class="eventDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-red-400 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleEventDropdown()">
                  <span>Seleccionar eventos</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="eventDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="eventOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedEvents flex flex-wrap gap-2 mt-2"></div>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Transformación</label>
            <textarea
              id="characterTransformation"
              oninput="filtrarCaracteres2(this)"
              rows="2"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe cómo evoluciona el personaje..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="characterSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Elementos simbólicos separados por comas" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="characterKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Palabras clave separadas por comas" />
            </div>
          </div>
          <div class="mt-4">
            <h4 class="text-lg font-semibold text-blue-400 mb-3">Información sobre la muerte</h4>
            <div class="grid md:grid-cols-3 gap-4">
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo de muerte</label>
                <input
                  id="characterDeathChapter"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Ej: 16" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Circunstancias</label>
                <input
                  id="characterDeathCircumstances"
                  oninput="filtrarCaracteres2(this)"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Cómo murió" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo de la muerte</label>
                <input
                  id="characterDeathSymbolism"
                  oninput="filtrarCaracteres2(this)"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Significado simbólico" />
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- Formulario de Objeto -->
      <form id="formObject" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-green-400 flex items-center"><i class="fa-solid fa-cube mr-3"></i>Agregar Objeto</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre del objeto</label>
              <input
                id="objectName"
                oninput="filtrarCaracteres2(this)"
                maxlength="40"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Manuscritos de Melquíades" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de objeto</label>
              <select
                id="objectType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 transition-all duration-300 input-focus font-medium">
                <option value="">Seleccionar tipo</option>
                <option value="magico">Mágico</option>
                <option value="cotidiano">Cotidiano</option>
                <option value="simbolico">Simbólico</option>
                <option value="historico">Histórico</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="objectDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe el objeto y su significado en la historia..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="objectChapters"
                oninput="filtrarCaracteres4(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1, 3, 7 (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Importancia narrativa (1-10)</label>
              <input
                id="objectImportance"
                type="number"
                min="1"
                max="10"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="8" />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Propietarios</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Ubicación física</label>
              <input
                id="objectLocation"
                oninput="filtrarCaracteres2(this)"
                maxlength="50"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Laboratorio de Melquíades" />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="objectSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="poder, conocimiento, destino (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="objectKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="magia, profecía, destino (separadas por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <h4 class="text-lg font-semibold text-green-400 mb-3">Transformacion</h4>
            <div class="grid md:grid-cols-2 gap-4">
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capitulo</label>
                <input
                  id="objectTransformationChapter"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Ej: 16" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
                <input
                  id="objectTransformationDescription"
                  type="text"
                  oninput="filtrarCaracteres2(this)"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Cómo murió" />
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- Formulario de Localización -->
      <form id="formLocation" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-yellow-400 flex items-center"><i class="fa-solid fa-map-marker-alt mr-3"></i>Agregar Localización</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre de la localización</label>
              <input
                id="locationName"
                oninput="filtrarCaracteres2(this)"
                maxlength="60"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Macondo" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de localización</label>
              <select
                id="locationType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 transition-all duration-300 input-focus font-medium">
                <option value="">Seleccionar tipo</option>
                <option value="construccion">Construcción</option>
                <option value="natural">Natural</option>
                <option value="mitica">Mítica</option>
                <option value="histórica">Histórica</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="locationDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe la localización y su importancia en la historia..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="locationChapters"
                oninput="filtrarCaracteres4(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1, 2, 3 (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos importantes</label>
              <div class="relative">
                <button
                  type="button"
                  class="eventDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-red-400 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleEventDropdown()">
                  <span>Seleccionar eventos</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="eventDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="eventOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedEvents flex flex-wrap gap-2 mt-2"></div>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personajes involucrados</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
              id="locationKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="aislamiento, magia, historia (separadas por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
            <input
            id="locationSymbolism"
            oninput="filtrarCaracteres1(this)"
            class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
            placeholder="aislamiento, progreso, decadencia (separados por coma)" />
          </div>
          <div class="space-y-2 mt-4">
            <h4 class="text-lg font-semibold text-yellow-400 mb-3">Transformacion</h4>
            <div class="grid md:grid-cols-2 gap-4">
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capitulo</label>
                <input
                  id="locationTransformationChapter"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Ej: 16" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
                <input
                  id="locationTransformationDescription"
                  type="text"
                  oninput="filtrarCaracteres2(this)"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Cómo murió" />
              </div>
            </div>
          </div>
        </div>
      </form>
      
      <!-- Formulario de Capítulo -->
      <form id="formChapter" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-purple-400 flex items-center"><i class="fa-solid fa-book mr-3"></i>Agregar Capítulo</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Número del capítulo</label>
              <input
              id="chapterNumber"
              type="number"
              min="13"
              max="16"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="1" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Importancia (1-10)</label>
              <input
                id="chapterImportance"
                type="number"
                min="1"
                max="10"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="7" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Título del capítulo</label>
            <input
              id="chapterTitle"
              oninput="filtrarCaracteres2(this)"
              maxlength="70"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="Ej: El origen de Macondo" />
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Resumen del capítulo</label>
            <textarea
              id="chapterSummary"
              oninput="filtrarCaracteres2(this)"
              rows="4"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Resume los eventos principales del capítulo..."></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Temas principales</label>
            <input
              id="chapterThemes"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="soledad, tiempo, memoria (separados por coma)" />
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos relacionados</label>
              <div class="relative">
                <button
                  type="button"
                  class="eventDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-red-400 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleEventDropdown()">
                  <span>Seleccionar eventos</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="eventDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="eventOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedEvents flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="chapterKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="origen, fundación, familia (separadas por coma)" />
            </div>
          </div>
        </div>
      </form>

      <!-- Formulario de Sueño/Visión -->
      <form id="formDream" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-pink-400 flex items-center"><i class="fa-solid fa-eye mr-3"></i>Agregar Sueño/Visión</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Soñador</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personaje</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo</label>
              <select
                id="dreamType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 transition-all duration-300 input-focus font-medium">
                <option value="">Seleccionar tipo</option>
                <option value="premonicion">Premonición</option>
                <option value="pesadilla">Pesadilla</option>
                <option value="visión">Visión</option>
                <option value="vision_profética">Vision Profética</option>
                <option value="sueño_nostálgico">Sueño Nostálgico</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción del sueño/visión</label>
            <textarea
              id="dreamDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe el sueño o la visión en detalle..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo</label>
              <input
                id="dreamChapter"
                type="number"
                min="13"
                max="16"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Número de capítulo" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Elementos simbólicos</label>
              <input
                id="dreamElements"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="mariposas, lluvia, sangre (separados por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Interpretación</label>
            <textarea
              id="dreamInterpretation"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Explica el significado del sueño o visión..."></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Cumplimiento</label>
            <textarea
              id="dreamFulfillment"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="¿Cómo se cumple o manifiesta este sueño/visión en la historia?"></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
            <input
              id="dreamKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="premonición, destino, magia (separadas por coma)" />
          </div>
        </div>
      </form>

      <!-- Formulario de Relación -->
      <form id="formRelation" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-indigo-400 flex items-center"><i class="fa-solid fa-heart mr-3"></i>Agregar Relación</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personaje 1</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personaje 2</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de relación</label>
              <select
                id="relationType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 transition-all duration-300 input-focus font-medium">
                <option value="">Seleccionar tipo</option>
                <option value="amor_prohibido">Amor Prohibido</option>
                <option value="matrimonio">Matrimonio</option>
                <option value="amistad">Amistad</option>
                <option value="enemistad">Enemistad</option>
                <option value="parentesco">Parentesco</option>
                <option value="aventura">Aventura</option>
              </select>
            </div>
            <div class="grid grid-cols-2 gap-4">
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo inicio</label>
                <input
                  id="relationStart"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Inicio" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo fin</label>
                <input
                  id="relationEnd"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Opcional" />
              </div>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="relationDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe la naturaleza y evolución de la relación..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Obstáculos</label>
              <input
                id="relationObstacles"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="familia, sociedad, destino (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="relationSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="amor, soledad, destino (separados por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Consecuencias</label>
            <textarea
              id="relationConsequences"
              oninput="filtrarCaracteres2(this)"
              rows="2"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe las consecuencias de esta relación..."></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
            <input
              id="relationKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="amor, tragedia, destino (separadas por coma)" />
          </div>
        </div>
      </form>

      <!-- Formulario de Símbolo/Tema -->
      <form id="formSymbol" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-orange-400 flex items-center"><i class="fa-solid fa-moon mr-3"></i>Agregar Símbolo/Tema</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre del símbolo/tema</label>
              <input
                id="symbolName"
                oninput="filtrarCaracteres2(this)"
                maxlength="50"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: La soledad" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo</label>
              <select
                id="symbolType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 transition-all duration-300 input-focus font-medium">
                <option value="">Seleccionar tipo</option>
                <option value="símbolo_natural">Símbolo Natural</option>
                <option value="símbolo_cultural">Símbolo Cultural</option>
                <option value="tema_literario">Tema Literario</option>
                <option value="motivo_recurrente">Motivo Recurrente</option>
              </select>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="symbolChapters"
                oninput="filtrarCaracteres4(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1, 3, 7 (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos relacionados</label>
              <div class="relative">
                <button
                  type="button"
                  class="eventDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-red-400 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleEventDropdown()">
                  <span>Seleccionar eventos</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="eventDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="eventOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedEvents flex flex-wrap gap-2 mt-2"></div>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Interpretaciones</label>
            <textarea
              id="symbolInterpretations"
              oninput="filtrarCaracteres2(this)"
              rows="4"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Escribe las diferentes interpretaciones del símbolo o tema (una por línea)..."></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Elementos asociados</label>
              <input
                id="symbolElements"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="hielo, espejo, mariposa (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personajes afectados</label>
              <div class="relative">
                <button
                  type="button"
                  class="characterDropdownButton w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-blue-400 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()"
                  
                  >
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="characterDropdown hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div class="characterOptions space-y-1"></div>
                </div>
              </div>
              <div class="selectedCharacters flex flex-wrap gap-2 mt-2"></div>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
            <input
              id="symbolKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="soledad, tiempo, memoria (separadas por coma)" />
          </div>
        </div>
      </form>

      <!-- Botón guardar -->
      <div class="mt-4 flex justify-end">
        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded">Guardar</button>
      </div>
    </div>
  </div>


  <!--
  AQUI EMPIEZA EL EDITAR
  NO TE PIERDAS DAVIIIIIIIID
  ----------------------------------
  ----------------------------------
  ----------------------------------
  -->
  <div class="flex justify-end mb-4">
    <button
      id="openEditModal"
      class="fixed bottom-8 right-8 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white text-3xl rounded-full w-16 h-16 shadow-2xl flex items-center justify-center transition-all duration-300 btn-hover border-2 border-emerald-400/20 z-40">
      <i class="fa-solid fa-plus"></i>
    </button>
  </div>

    <!-- Modal -->
  <div id="customEditModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in">
    <div class="relative w-full max-w-4xl p-6 glass-effect rounded-3xl shadow-2xl mx-4 md:mx-auto max-h-[90vh] overflow-y-auto animate-slide-up border border-slate-600/30">
      <button
        type="button"
        class="absolute top-4 right-4 text-slate-300 hover:text-white text-2xl font-bold w-10 h-10 rounded-full bg-slate-700/50 hover:bg-slate-600/50 flex items-center justify-center transition-all duration-300 btn-hover"
        onclick="document.getElementById('customEditModal').classList.add('hidden'); document.querySelectorAll('[id^=formEdit]').forEach(f => f.classList.add('hidden'));"
        >
        <i class="fa-solid fa-times"></i>
      </button>

      <!-- Header del modal -->
      <div class="mb-8 pt-2">
        <h2 class="text-3xl font-bold text-center bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">Agregar Información</h2>
        <p class="text-center text-slate-300 mt-2 text-lg">Editar</p>
      </div>

      <!-- Formulario de Evento -->
      <form id="formEditevents" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl overflow-auto scrollbar-hide">
          <h3 class="text-2xl font-bold mb-6 text-red-400 flex items-center"><i class="fa-solid fa-star mr-3"></i>Editar Evento</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <input type="hidden" name="type">
              <input type="hidden" name="_id">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre del evento</label>
              <input
                id="eventEditName"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: La muerte de José Arcadio" 
                name="nombre"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo</label>
              <input
                id="eventEditChapter"
                min="13"
                max="16"
                maxlength="2"
                type="number"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Capítulo 5" 
                name="capitulo"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="eventEditDescription"
              rows="4"
              oninput="filtrarCaracteres2(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe detalladamente el evento..."
              name="descripcion"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Importancia (1-10)</label>
              <input
                id="eventEditImportance"
                type="number"
                min="1"
                max="10"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="8" 
                name="importancia"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de evento</label>
              <select
                id="eventEditType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 input-focus font-medium"
                name="tipo"
                >
                <option value="">Seleccionar tipo</option>
                <option value="historico">Histórico</option>
                <option value="personal">Personal</option>
                <option value="sobrenatural">Sobrenatural</option>
                <option value="social">Social</option>
                <option value="simbólico">Simbólico</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Fecha narrativa</label>
            <input
              id="eventEditDate"
              type="number"
              min="1900"
              max="2000"
              class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="Ej: aproximadamente 1915" 
              name="fecha_narrativa"
              />
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personajes involucrados</label>
              <div class="relative">
                <button
                  type="button"
                  id="characterEditDropdownButton"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 hover:border-red-400 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 transition-all duration-300 text-left flex items-center justify-between"
                  onclick="toggleCharacterDropdown()">
                  <span>Seleccionar personajes</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div id="characterEditDropdown" class="hidden absolute z-50 w-full mt-2 py-2 bg-slate-800 rounded-xl border-2 border-slate-600/50 shadow-xl max-h-60 overflow-y-auto">
                  <div id="characterOptions" class="space-y-1">
                    <!-- Options will be populated here -->
                  </div>
                </div>
              </div>
              <div id="selectedCharacters" class="flex flex-wrap gap-2 mt-2">
                <!-- Selected characters will appear here -->
              </div>
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Localizaciones</label>
              <input
                id="eventEditLocations"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Lugares separados por comas" 
                name="localizaciones"
                />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Objetos relacionados</label>
              <input
                id="eventEditObjects"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Objetos separados por comas" 
                name="objetos_relacionados"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="eventEditSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Elementos simbólicos separados por comas" 
                name="simbolismo"
                />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Consecuencias</label>
              <input
                id="eventEditConsequences"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Consecuencias separadas por comas" 
                name="consecuencias"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="eventEditKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Palabras clave separadas por comas" 
                name="palabras_clave"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Texto completo</label>
            <textarea
              id="eventEditFullText"
              rows="4"
              oninput="filtrarCaracteres2(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-red-400 focus:ring-4 focus:ring-red-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Descripción extensa del evento para búsquedas de texto completo..."
              name="texto_completo"
              ></textarea>
          </div>
        </div>
      </form>

      <!-- Formulario de Personaje -->
      <form id="formEditcharacters" class="hidden space-y-5 animate-slide-up">
        <input type="hidden" name="type">
        <input type="hidden" name="_id">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-blue-400 flex items-center"><i class="fa-solid fa-user mr-3"></i>Editar Personaje</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre</label>
              <input
                id="characterEditFirstName"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: José Arcadio" 
                name="nombre"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Apellido</label>
              <input
                id="characterEditLastName"
                oninput="filtrarCaracteres2(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Buendía"
                name="apellido"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción física</label>
            <textarea
              id="characterEditPhysicalDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe el aspecto físico del personaje..."
              name="descripcion_fisica"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Generación</label>
              <input
                id="characterEditGeneration"
                type="number"
                min="1"
                max="7"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1" 
                name="generacion"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personalidad</label>
              <input
                id="characterEditPersonality"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Rasgos separados por comas" 
                name="personalidad"
                />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="characterEditChapters"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Números separados por comas" 
                name="capitulos_aparicion"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos principales</label>
              <input
                id="characterEditEvents"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Eventos separados por comas" 
                name="eventos_principales"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Transformación</label>
            <textarea
              id="characterEditTransformation"
              oninput="filtrarCaracteres2(this)"
              rows="2"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe cómo evoluciona el personaje..."
              name="transformacion"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="characterEditSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Elementos simbólicos separados por comas" 
                name="simbolismo"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="characterEditKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Palabras clave separadas por comas"
                name="palabras_clave"
                />
            </div>
          </div>
          <div class="mt-4">
            <h4 class="text-lg font-semibold text-blue-400 mb-3">Información sobre la muerte</h4>
            <div class="grid md:grid-cols-3 gap-4">
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo de muerte</label>
                <input
                  id="characterEditDeathChapter"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Ej: 16" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Circunstancias</label>
                <input
                  id="characterEditDeathCircumstances"
                  oninput="filtrarCaracteres2(this)"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Cómo murió" />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo de la muerte</label>
                <input
                  id="characterEditDeathSymbolism"
                  oninput="filtrarCaracteres2(this)"
                  class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Significado simbólico" />
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- Formulario de Objeto -->
      <form id="formEditobjects" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-green-400 flex items-center"><i class="fa-solid fa-cube mr-3"></i>Editar Objeto</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <input type="hidden" name="type">
            <input type="hidden" name="_id">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre del objeto</label>
              <input
                id="objectEditName"
                oninput="filtrarCaracteres2(this)"
                maxlength="40"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Manuscritos de Melquíades" 
                name="nombre"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de objeto</label>
              <select
                id="objectEditType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 transition-all duration-300 input-focus font-medium"
                name="tipo"
                >
                <option value="">Seleccionar tipo</option>
                <option value="mágico">Mágico</option>
                <option value="cotidiano">Cotidiano</option>
                <option value="simbólico">Simbólico</option>
                <option value="histórico">Histórico</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="objectEditDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe el objeto y su significado en la historia..."
              name="descripcion"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="objectEditChapters"
                oninput="filtrarCaracteres4(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1, 3, 7 (separados por coma)" 
                name="capitulos_aparicion"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Importancia narrativa (1-10)</label>
              <input
                id="objectEditImportance"
                type="number"
                min="1"
                max="10"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="8" 
                name="importancia_narrativa"
                />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Propietarios</label>
              <input
                id="objectEditOwners"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="IDs de personajes (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Ubicación física</label>
              <input
                id="objectEditLocation"
                oninput="filtrarCaracteres2(this)"
                maxlength="50"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Laboratorio de Melquíades" 
                name="ubicacion_fisica"
                />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="objectEditSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="poder, conocimiento, destino (separados por coma)" 
                name="simbolismo"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="objectEditKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="magia, profecía, destino (separadas por coma)" 
                name="palabras_clave"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Transformaciones</label>
            <textarea
              id="objectEditTransformations"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-green-400 focus:ring-4 focus:ring-green-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Formato: capítulo:estado (uno por línea)"
              name="transformaciones"
              ></textarea>
          </div>
        </div>
      </form>

      <!-- Formulario de Localización -->
      <form id="formEditlocations" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-yellow-400 flex items-center"><i class="fa-solid fa-map-marker-alt mr-3"></i>Editar Localización</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <input type="hidden" name="type">
            <input type="hidden" name="_id">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre de la localización</label>
              <input
                id="locationEditName"
                oninput="filtrarCaracteres2(this)"
                maxlength="60"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: Macondo" 
                name="nombre"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de localización</label>
              <select
                id="locationEditType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 transition-all duration-300 input-focus font-medium"
                name="tipo"
                >
                <option value="">Seleccionar tipo</option>
                <option value="construcción">Construcción</option>
                <option value="natural">Natural</option>
                <option value="mítica">Mítica</option>
                <option value="histórica">Histórica</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="locationEditDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe la localización y su importancia en la historia..."
              name="descripcion"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="locationEditChapters"
                oninput="filtrarCaracteres4(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1, 2, 3 (separados por coma)" 
                name="capitulos_aparicion"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos importantes</label>
              <input
                id="locationEditEvents"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="IDs de eventos (separados por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Transformaciones</label>
            <textarea
              id="locationEditTransformations"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe los cambios de la localización a través del tiempo..."
              name="transformaciones"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personajes asociados</label>
              <input
                id="locationEditCharacters"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="IDs de personajes (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="locationEditKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="aislamiento, magia, historia (separadas por coma)" 
                name="palabras_clave"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
            <input
              id="locationEditSymbolism"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-yellow-400 focus:ring-4 focus:ring-yellow-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="aislamiento, progreso, decadencia (separados por coma)" 
              name="simbolismo"
              />
          </div>
        </div>
      </form>

      <!-- Formulario de Capítulo -->
      <form id="formEditchapters" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-purple-400 flex items-center"><i class="fa-solid fa-book mr-3"></i>Editar Capítulo</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <input type="hidden" name="type">
              <input type="hidden" name="_id">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Número del capítulo</label>
              <input
                id="chapterEditNumber"
                type="number"
                min="13"
                max="16"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="1" 
                name="numero"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Importancia (1-10)</label>
              <input
                id="chapterEditImportance"
                type="number"
                min="1"
                max="10"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="7" 
                name="importancia"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Título del capítulo</label>
            <input
              id="chapterEditTitle"
              oninput="filtrarCaracteres2(this)"
              maxlength="70"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="Ej: El origen de Macondo" 
              name="titulo"
              />
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Resumen del capítulo</label>
            <textarea
              id="chapterEditSummary"
              oninput="filtrarCaracteres2(this)"
              rows="4"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Resume los eventos principales del capítulo..."
              name="resumen"
              ></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Temas principales</label>
            <input
              id="chapterEditThemes"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="soledad, tiempo, memoria (separados por coma)" 
              name="temas_principales"
              />
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos relacionados</label>
              <input
                id="chapterEditEvents"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="IDs de eventos (separados por coma)" />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
              <input
                id="chapterEditKeywords"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-purple-400 focus:ring-4 focus:ring-purple-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="origen, fundación, familia (separadas por coma)" 
                name="palabras_clave"
                />
            </div>
          </div>
        </div>
      </form>

      <!-- Formulario de Sueño/Visión -->
      <form id="formEditdreams_visions" class="hidden space-y-5 animate-slide-up">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-pink-400 flex items-center"><i class="fa-solid fa-eye mr-3"></i>Editar Sueño/Visión</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <input type="hidden" name="type">
              <input type="hidden" name="_id">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Soñador</label>
              <input
                id="dreamEditDreamer"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="ID del personaje" 
                name="soñador"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo</label>
              <select
                id="dreamEditType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 transition-all duration-300 input-focus font-medium"
                name="tipo"
                >
                <option value="">Seleccionar tipo</option>
                <option value="premonicion">Premonición</option>
                <option value="pesadilla">Pesadilla</option>
                <option value="visión">Visión</option>
                <option value="sueño_profético">Sueño Profético</option>
                <option value="vision_traumática">Vision Traumática</option>
              </select>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción del sueño/visión</label>
            <textarea
              id="dreamEditDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe el sueño o la visión en detalle..."
              name="descripcion"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo</label>
              <input
                id="dreamEditChapter"
                type="number"
                min="13"
                max="16"
                class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Número de capítulo" 
                name="capitulo"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Elementos simbólicos</label>
              <input
                id="dreamEditElements"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="mariposas, lluvia, sangre (separados por coma)" 
                name="elementos_simbolicos"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Interpretación</label>
            <textarea
              id="dreamEditInterpretation"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Explica el significado del sueño o visión..."
              name="interpretacion"
              ></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Cumplimiento</label>
            <textarea
              id="dreamEditFulfillment"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="¿Cómo se cumple o manifiesta este sueño/visión en la historia?"
              name="cumplimiento"
              ></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
            <input
              id="dreamEditKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-pink-400 focus:ring-4 focus:ring-pink-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="premonición, destino, magia (separadas por coma)" 
              name="palabras_clave"
              />
          </div>
        </div>
      </form>

      <!-- Formulario de Relación -->
      <form id="formEditrelationships" class="hidden space-y-5 animate-slide-up">
        <input type="hidden" name="type">
        <input type="hidden" name="_id">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-indigo-400 flex items-center"><i class="fa-solid fa-heart mr-3"></i>Editar Relación</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personaje 1</label>
              <input
                id="relationEditCharacter1"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="ID del primer personaje" 
                name="personaje1"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personaje 2</label>
              <input
                id="relationEditCharacter2"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="ID del segundo personaje"
                name="personaje2"
                />
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo de relación</label>
              <select
                id="relationEditType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 transition-all duration-300 input-focus font-medium"
                name="tipo_relacion"
                >
                <option value="">Seleccionar tipo</option>
                <option value="amor_prohibido">Amor Prohibido</option>
                <option value="matrimonio">Matrimonio</option>
                <option value="amistad">Amistad</option>
                <option value="enemistad">Enemistad</option>
                <option value="parentesco">Parentesco</option>
                <option value="aventura">Aventura</option>
                <option value="matrimonio_deteriorado">Matrimonio Deteriorado</option>
                <option value="solidaridad_laboral">Solidaridad Laboral</option>
                <option value="matrimonio_moderno">Matrimonio Moderno</option>
              </select>
            </div>
            <div class="grid grid-cols-2 gap-4">
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo inicio</label>
                <input
                  id="relationEditStart"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Inicio"
                  name="capitulo_inicio"
                  />
              </div>
              <div class="space-y-2">
                <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulo fin</label>
                <input
                  id="relationEditEnd"
                  type="number"
                  min="13"
                  max="16"
                  class="no-spinner w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                  placeholder="Opcional" 
                  />
              </div>
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Descripción</label>
            <textarea
              id="relationEditDescription"
              oninput="filtrarCaracteres2(this)"
              rows="3"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe la naturaleza y evolución de la relación..."
              name="descripcion"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Obstáculos</label>
              <input
                id="relationEditObstacles"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="familia, sociedad, destino (separados por coma)" 
                name="obstaculos"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Simbolismo</label>
              <input
                id="relationEditSymbolism"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="amor, soledad, destino (separados por coma)" 
                name="simbolismo"
                />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Consecuencias</label>
            <textarea
              id="relationEditConsequences"
              oninput="filtrarCaracteres2(this)"
              rows="2"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Describe las consecuencias de esta relación..."
              name="consecuencias"
              ></textarea>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
            <input
              id="relationEditKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-indigo-400 focus:ring-4 focus:ring-indigo-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="amor, tragedia, destino (separadas por coma)" 
              name="palabras_clave"
              />
          </div>
        </div>
      </form>

      <!-- Formulario de Símbolo/Tema -->
      <form id="formEditsymbols" class="hidden space-y-5 animate-slide-up">
        <input type="hidden" name="type">
        <input type="hidden" name="_id">
        <div class="form-gradient p-6 rounded-2xl border border-slate-600/30 shadow-xl">
          <h3 class="text-2xl font-bold mb-6 text-orange-400 flex items-center"><i class="fa-solid fa-moon mr-3"></i>Editar Símbolo/Tema</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Nombre del símbolo/tema</label>
              <input
                id="symbolEditName"
                oninput="filtrarCaracteres2(this)"
                maxlength="50"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: La soledad" 
                name="nombre"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Tipo</label>
              <select
                id="symbolEditType"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 transition-all duration-300 input-focus font-medium"
                name="tipo"
                >
                <option value="">Seleccionar tipo</option>
                <option value="simbolo_natural">Símbolo Natural</option>
                <option value="simbolo_cultural">Símbolo Cultural</option>
                <option value="tema_literario">Tema Literario</option>
                <option value="motivo_recurrente">Motivo Recurrente</option>
              </select>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Capítulos de aparición</label>
              <input
                id="symbolEditChapters"
                oninput="filtrarCaracteres4(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="Ej: 1, 3, 7 (separados por coma)"
                name="capitulos_aparicion"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Eventos relacionados</label>
              <input
                id="symbolEditEvents"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="IDs de eventos (separados por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Interpretaciones</label>
            <textarea
              id="symbolEditInterpretations"
              oninput="filtrarCaracteres2(this)"
              rows="4"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium resize-none"
              placeholder="Escribe las diferentes interpretaciones del símbolo o tema (una por línea)..."
              name="interpretaciones"
              ></textarea>
          </div>
          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Elementos asociados</label>
              <input
                id="symbolEditElements"
                oninput="filtrarCaracteres1(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="hielo, espejo, mariposa (separados por coma)" 
                name="elementos_asociados"
                />
            </div>
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-slate-300 mb-2">Personajes afectados</label>
              <input
                id="symbolEditCharacters"
                oninput="filtrarCaracteres3(this)"
                class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
                placeholder="IDs de personajes (separados por coma)" />
            </div>
          </div>
          <div class="space-y-2 mt-4">
            <label class="block text-sm font-semibold text-slate-300 mb-2">Palabras clave</label>
            <input
              id="symbolEditKeywords"
              oninput="filtrarCaracteres1(this)"
              class="w-full p-4 rounded-xl bg-slate-700/60 text-white border-2 border-slate-600/50 focus:border-orange-400 focus:ring-4 focus:ring-orange-400/20 placeholder-slate-400 transition-all duration-300 input-focus font-medium"
              placeholder="soledad, tiempo, memoria (separadas por coma)" 
              name="palabras_clave"
              />
          </div>
        </div>
      </form>

      <!-- Botón guardar -->
      <div class="mt-4 flex justify-end">
        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded">Guardar</button>
      </div>
    </div>
  </div>

  <div id="results_container" class="grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3"></div>

  <div class="flex flex-col items-center text-white justify-center hidden" id="not_found">
    <p class="text-center">No se encontraron resultados :c</p>
    <ol>
      <li>Prueba con palabras clave más generales</li>
      <li>Prueba con menos palabras clave</li>
    </ol>
  </div>

  <div class="flex flex-col items-center justify-center hidden" id="loading_symbol">
    <img class="animate-spin h-12 w-12" src="{{ url_for('static', filename='src/svg/Loading.svg') }}" />
  </div>
</div>

<script type="module" src="{{ url_for('static', filename='javascript/index.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/insertService.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/validate_input.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/animation.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/editService.js') }}"></script>
{%endblock%}
