{%extends 'layout/base.html' %} {% block title %} 100 años de soledad {% endblock %} {%block main%}
<div class="max-w-7xl mx-auto px-4 py-8 flex flex-col gap-8">
  <div class="flex flex-wrap justify-center gap-3">
    <!-- EVENTOS -->
    <div>
      <input type="checkbox" id="eventos" class="peer hidden tag" value="events" />
      <label
        for="eventos"
        class="filters animate-item delay-1 animate-fade-in-down h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-red-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-red-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
        </svg>
        <span class="select-none">Eventos</span>
      </label>
    </div>

    <!-- CAPITULOS -->
    <div>
      <input type="checkbox" id="capitulos" class="peer hidden tag" value="chapters" />
      <label
        for="capitulos"
        class="filters animate-item delay-2 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-purple-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-purple-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
        </svg>
        <span class="select-none">Capitulos</span>
      </label>
    </div>

      <!-- RELACIONES -->
    <div>
      <input type="checkbox" id="relaciones" class="peer hidden tag" value="relationships" />
      <label
        for="relaciones"
        class="filters animate-item delay-3 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-pink-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-pink-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
        </svg>
        <span class="select-none">Relaciones</span>
      </label>
    </div>
    
    <!-- PERSONAJES -->
    <div>
      <input type="checkbox" id="personajes" class="peer hidden tag" value="characters" />
      <label
        for="personajes"
        class="filters animate-item delay-4 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-blue-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-blue-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        </svg>
        <span class="select-none">Personajes</span>
      </label>
    </div>

    <!-- SUEÑOS Y VICIONES -->
    <div>
      <input type="checkbox" id="sueños_visiones" class="peer hidden tag" value="dreams_visions" />
      <label
        for="sueños_visiones"
        class="filters animate-item delay-5 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-cyan-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-cyan-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        </svg>
        <span class="select-none">Sueños y Viciones</span>
      </label>
    </div>

    <!-- LOCALIZACIONES -->
    <div>
      <input type="checkbox" id="localizaciones" class="peer hidden tag" value="locations" />
      <label
        for="localizaciones"
        class="filters animate-item delay-6 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-green-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-green-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
        </svg>
        <span class="select-none">Localizaciones</span>
      </label>
    </div>

    <!-- OBJETOS -->
    <div>
      <input type="checkbox" id="objetos" class="peer hidden tag" value="objects" />
      <label
        for="objetos"
        class="filters animate-item delay-7 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-yellow-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-yellow-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
        </svg>

        <span class="select-none">Objetos</span>
      </label>
    </div>

    <!-- SIMBOLOS -->
    <div>
      <input type="checkbox" id="simbolos" class="peer hidden tag" value="symbols" />
      <label
        for="simbolos"
        class="filters animate-item delay-8 h-13 bg-gray-800 p-2 rounded-2xl cursor-pointer flex items-center gap-2 text-orange-500 shadow-lg px-3 font-semibold text-lg transition-colors duration-300 peer-checked:bg-orange-500 peer-checked:text-white transition-all duration-300 transform hover:scale-105"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
        </svg>
        <span class="select-none">Simbolos</span>
      </label>
    </div>
  </div>

  <!-- Barra de búsqueda -->

  <form class="max-w-2xl w-full mx-auto" onsubmit="return validarInput()">
    <div class="relative">
      <input
        id="to_search"
        name="to_search"
        type="text"
        maxlength="70"
        pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ0-9\s]+"
        class="block w-full p-3 pe-18 ps-5 text-md font-semibold border-3 border-gray-600 rounded-full text-white bg-withe focus:outline-none focus:ring-2 focus:ring-blue-700 placeholder-gray-400 hover:shadow-2xl transition-shadow duration-300"
        placeholder="Aureliano Buendia"
        value="Aureliano Buendia"
        oninput="filtrarCaracteres(this)"
        required
      />
      <button id="search_btn" class="absolute top-0 end-0 px-5 h-full text-white bg-blue-700 rounded-r-full border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"/>
        </svg>
      </button>

    </div>
  </form>

  <!-- Botón para agegar uno-->

  <div class="flex justify-end mb-4">
    <button id="openModal" class="fixed bottom-6 right-6 bg-green-600 hover:bg-green-700 text-white text-3xl rounded-full w-16 h-16 shadow-lg flex items-center justify-center transition duration-300">
      <i class="fa-solid fa-plus"></i>
    </button>
  </div>

  <!-- Modal  -->
  <div id="customModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-white bg-opacity-80">
    <div class="relative w-full max-w-2xl p-4 bg-gray-900 text-white rounded-2xl shadow-xl mx-4 md:mx-auto">
      <button type="button" class="absolute top-2 right-3 text-white text-2xl font-bold" onclick="document.getElementById('customModal').classList.add('hidden')">&times;</button>
      <!-- Header del modal -->
      <div class="mb-4">
        <h2 class="text-2xl font-bold text-center">Agregar Información</h2>
        <p class="text-sm text-center text-gray-300">Selecciona el tipo de entidad para agregar</p>
      </div>

      <div class="flex flex-wrap justify-center gap-2 mb-6">
        <button class="bg-red-500 hover:bg-red-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formEvent')">Evento</button>
        <button class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formCharacter')">Personaje</button>
        <button class="bg-green-500 hover:bg-green-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formObject')">Objeto</button>
        <button class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1 px-3 rounded" onclick="mostrarFormulario('formLocation')">Localización</button>
      </div>

      <!-- Formularios -->
      <form id="formEvent" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre del evento" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulo" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Importancia" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Tipo (histórico, personal, etc)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Fecha narrativa" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Personajes involucrados (IDs separados por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Localizaciones (IDs separados por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo (separado por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Consecuencias (separado por coma)" />
      </form>

      <form id="formCharacter" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre completo" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Generación" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción física"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Personalidad (lista separada por coma)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulos de aparición" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Eventos principales (IDs)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Transformación"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Muerte (capítulo y circunstancias)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo" />
      </form>

      <form id="formObject" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre del objeto" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Tipo (mágico, simbólico, cotidiano)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulos de aparición" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Propietarios (IDs)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Ubicación física" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Transformaciones (capítulo y estado)"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Importancia narrativa" />
      </form>

      <form id="formLocation" class="hidden space-y-3">
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Nombre de la localización" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Tipo (natural, mítica, construcción)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Descripción"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Capítulos de aparición" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Eventos importantes (IDs)" />
        <textarea class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Transformaciones (capítulo y estado)"></textarea>
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Personajes asociados (IDs)" />
        <input class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Simbolismo" />
      </form>

      <div class="mt-4 flex justify-end">
        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded">Guardar</button>
      </div>
    </div>
  </div>

  <div id="results_container" class="grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    
  </div>
  
  <div class="flex flex-col items-center text-white justify-center hidden" id="not_found">
    <p class="text-center">No se encontraron resultados :c</p>
    <ol>
      <li>Prueba con palabras clave más generales</li>
      <li>Prueba con menos palabras clave</li>
    </ol>
  </div>

  <div class="flex flex-col items-center justify-center hidden" id="loading_symbol">    
    <img class="animate-spin h-12 w-12" src="{{ url_for('static', filename='src/svg/Loading.svg') }}"></img>
  </div>

</div>

<script type="module" src="{{ url_for('static', filename='javascript/index.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/insertService.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/validate_input.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/animation.js') }}"></script>
{%endblock%}
